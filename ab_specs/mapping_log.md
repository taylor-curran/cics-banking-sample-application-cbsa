# COBOL-to-Java Migration Mapping Log

## Purpose
Track the mapping between COBOL programs/sections and their Java implementations, including test coverage.

IMPORTANT:
Each row should have a unique java artifact / test combination.
For example, `CompanyInfoService.getCompanyName()` test ExpectationA is a row and `CompanyInfoService.getCompanyName()` test ExpectationB is another row.

## Mapping Table

| COBOL Program | COBOL Section/Paragraph | Java Artifact | Java Test Methods | Migration Status | COBOL File Path | Java File Location | Java Test Path |
|---------------|-------------------------|---------------|-------------------|------------------|-----------------|--------------------|-----------------|
| GETCOMPY | A010 (PREMIERE SECTION) | `CompanyInfoService.getCompanyName()` | `shouldReturnCorrectCompanyName()` | COMPLETE | `src/base/cobol_src/GETCOMPY.cbl` | `java-migration/src/main/java/com/cbsa/migration/service/CompanyInfoService.java` | `java-migration/src/test/java/com/cbsa/migration/service/CompanyInfoServiceTest.java` |
| PROCTRAN | Transaction Save | `JdbcTransactionRepository.save()` | `testSave_NewTransaction_InsertsRecord()` | IN PROGRESS | `src/base/cobol_src/PROCTRAN.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepositoryTest.java` |
| PROCTRAN | Transaction Save | `JdbcTransactionRepository.save()` | `testSave_ExistingTransaction_UpdatesRecord()` | IN PROGRESS | `src/base/cobol_src/PROCTRAN.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepositoryTest.java` |
| PROCTRAN | Transaction Save | `JdbcTransactionRepository.save()` | `testSave_WithValidData_ReturnsTransaction()` | IN PROGRESS | `src/base/cobol_src/PROCTRAN.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepositoryTest.java` |
| PROCTRAN | Transaction Read | `JdbcTransactionRepository.findById()` | `testFindById_WithValidCompositeId_ReturnsTransaction()` | IN PROGRESS | `src/base/cobol_src/PROCTRAN.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepositoryTest.java` |
| PROCTRAN | Transaction Read | `JdbcTransactionRepository.findById()` | `testFindById_WithInvalidCompositeId_ReturnsEmpty()` | IN PROGRESS | `src/base/cobol_src/PROCTRAN.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepositoryTest.java` |
| PROCTRAN | Account Transaction List | `JdbcTransactionRepository.findByAccount()` | `testFindByAccount_WithTransactions_ReturnsOrderedList()` | IN PROGRESS | `src/base/cobol_src/PROCTRAN.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepositoryTest.java` |
| PROCTRAN | Transaction Delete | `JdbcTransactionRepository.deleteById()` | `testDeleteById_WithValidId_ReturnsTrue()` | IN PROGRESS | `src/base/cobol_src/PROCTRAN.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepositoryTest.java` |
| PROCTRAN | Transaction Logical Delete | `JdbcTransactionRepository.markAsDeleted()` | `testMarkAsDeleted_WithValidId_SetsLogicalFlag()` | IN PROGRESS | `src/base/cobol_src/PROCTRAN.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepositoryTest.java` |
| PROCTRAN | Transaction Logical Delete | `JdbcTransactionRepository.markAsDeleted()` | `testMarkAsDeleted_PreservesTransactionData()` | IN PROGRESS | `src/base/cobol_src/PROCTRAN.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepositoryTest.java` |
| PROCTRAN | Transaction List All | `JdbcTransactionRepository.findAll()` | `testFindAll_ReturnsAllTransactions()` | IN PROGRESS | `src/base/cobol_src/PROCTRAN.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepositoryTest.java` |
| PROCTRAN | Transaction Count | `JdbcTransactionRepository.count()` | `testCount_ReturnsCorrectCount()` | IN PROGRESS | `src/base/cobol_src/PROCTRAN.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepositoryTest.java` |
| PROCTRAN | Full Lifecycle | `JdbcTransactionRepository.*` | `testCompleteTransactionLifecycle_CreateUpdateDelete()` | IN PROGRESS | `src/base/cobol_src/PROCTRAN.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcTransactionRepositoryTest.java` |
| ABNDPROC | Error Data Processing | `ApplicationError.build()` | `testBuilder_withMinimalFields_createsValidObject` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/model/ApplicationError.java` | `java-migration/src/test/java/com/cbsa/migration/model/ApplicationErrorTest.java` |
| ABNDPROC | Error Data Processing | `ApplicationError.build()` | `testBuilder_withAllFields_setsAllProperties` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/model/ApplicationError.java` | `java-migration/src/test/java/com/cbsa/migration/model/ApplicationErrorTest.java` |
| ABNDPROC | Error Data Processing | `ApplicationError.toString()` | `testToString_containsEssentialFields` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/model/ApplicationError.java` | `java-migration/src/test/java/com/cbsa/migration/model/ApplicationErrorTest.java` |
| ABNDPROC | Error Record Save | `JdbcApplicationErrorRepository.save()` | `testSave_newError_insertsAndReturnsGeneratedId` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/JdbcApplicationErrorRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcApplicationErrorRepositoryTest.java` |
| ABNDPROC | Error Record Save | `JdbcApplicationErrorRepository.save()` | `testSave_existingError_updatesRecord` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/JdbcApplicationErrorRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcApplicationErrorRepositoryTest.java` |
| ABNDPROC | Error Record Read | `JdbcApplicationErrorRepository.findById()` | `testFindById_existingRecord_returnsApplicationError` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/JdbcApplicationErrorRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcApplicationErrorRepositoryTest.java` |
| ABNDPROC | Error Record Read | `JdbcApplicationErrorRepository.findById()` | `testFindById_nonExistentRecord_returnsEmpty` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/JdbcApplicationErrorRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcApplicationErrorRepositoryTest.java` |
| ABNDPROC | Error Record Query | `JdbcApplicationErrorRepository.findByApplicationId()` | `testFindByApplicationId_returnsMatchingErrors` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/JdbcApplicationErrorRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcApplicationErrorRepositoryTest.java` |
| ABNDPROC | Error Record List | `JdbcApplicationErrorRepository.findAll()` | `testFindAll_withMultipleRecords_returnsAllRecords` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/repository/JdbcApplicationErrorRepository.java` | `java-migration/src/test/java/com/cbsa/migration/repository/jdbc/JdbcApplicationErrorRepositoryTest.java` |
| ABNDPROC | Error Processing Logic | `ErrorLoggingService.logError()` | `testLogError_validRequest_callsRepositorySave` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/service/ErrorLoggingService.java` | `java-migration/src/test/java/com/cbsa/migration/service/ErrorLoggingServiceTest.java` |
| ABNDPROC | Error Processing Logic | `ErrorLoggingService.logError()` | `testLogError_nullRequest_throwsIllegalArgumentException` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/service/ErrorLoggingService.java` | `java-migration/src/test/java/com/cbsa/migration/service/ErrorLoggingServiceTest.java` |
| ABNDPROC | Error Processing Logic | `ErrorLoggingService.logError()` | `testLogError_emptyApplicationId_throwsValidationException` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/service/ErrorLoggingService.java` | `java-migration/src/test/java/com/cbsa/migration/service/ErrorLoggingServiceTest.java` |
| ABNDPROC | Error Processing Integration | `ErrorLoggingService.logError()` | `testLogError_endToEnd_persistsAndRetrievesCorrectly` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/service/ErrorLoggingService.java` | `java-migration/src/test/java/com/cbsa/migration/service/ErrorLoggingServiceTest.java` |
| ABNDPROC | Error API Endpoint | `ErrorController.logError()` | `testLogError_validRequest_returnsCreated` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/controller/ErrorController.java` | `java-migration/src/test/java/com/cbsa/migration/controller/ErrorControllerTest.java` |
| ABNDPROC | Error API Endpoint | `ErrorController.logError()` | `testLogError_invalidRequest_returnsBadRequest` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/controller/ErrorController.java` | `java-migration/src/test/java/com/cbsa/migration/controller/ErrorControllerTest.java` |
| ABNDPROC | Error API Endpoint | `ErrorController.logError()` | `testLogError_serviceException_returnsInternalServerError` | IN PROGRESS | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/controller/ErrorController.java` | `java-migration/src/test/java/com/cbsa/migration/controller/ErrorControllerTest.java` |
| ABNDPROC | Error API Endpoint | `ErrorController.logError()` | `testLogError_missingApplicationId_returnsBadRequest` | NEEDS_FIX | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/controller/ErrorController.java` | `java-migration/src/test/java/com/cbsa/migration/controller/ErrorControllerTest.java` |
| ABNDPROC | Error API Endpoint | `ErrorController.logError()` | `testLogError_missingErrorCode_returnsBadRequest` | NEEDS_FIX | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/controller/ErrorController.java` | `java-migration/src/test/java/com/cbsa/migration/controller/ErrorControllerTest.java` |
| ABNDPROC | Error API Endpoint | `ErrorController.logError()` | `testLogError_invalidJson_returnsBadRequest` | NEEDS_FIX | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/controller/ErrorController.java` | `java-migration/src/test/java/com/cbsa/migration/controller/ErrorControllerTest.java` |
| ABNDPROC | Error API Endpoint | `ErrorController.logError()` | `testLogError_emptyBody_returnsBadRequest` | NEEDS_FIX | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/controller/ErrorController.java` | `java-migration/src/test/java/com/cbsa/migration/controller/ErrorControllerTest.java` |
| ABNDPROC | Error Request Validation | `ErrorRequestDto.validate()` | `testValidation_missingApplicationId_fails` | MISSING | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/dto/ErrorRequestDto.java` | `java-migration/src/test/java/com/cbsa/migration/dto/ErrorRequestDtoTest.java` |
| ABNDPROC | Error Request Validation | `ErrorRequestDto.validate()` | `testValidation_missingErrorCode_fails` | MISSING | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/dto/ErrorRequestDto.java` | `java-migration/src/test/java/com/cbsa/migration/dto/ErrorRequestDtoTest.java` |
| ABNDPROC | Error Request Validation | `ErrorRequestDto.validate()` | `testValidation_validRequest_passes` | MISSING | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/dto/ErrorRequestDto.java` | `java-migration/src/test/java/com/cbsa/migration/dto/ErrorRequestDtoTest.java` |
| ABNDPROC | Error Response Structure | `ErrorResponseDto.success()` | `testSuccess_withValidData_createsSuccessResponse` | MISSING | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/dto/ErrorResponseDto.java` | `java-migration/src/test/java/com/cbsa/migration/dto/ErrorResponseDtoTest.java` |
| ABNDPROC | Error Response Structure | `ErrorResponseDto.failure()` | `testFailure_withErrorMessage_createsFailureResponse` | MISSING | `src/base/cobol_src/ABNDPROC.cbl` | `java-migration/src/main/java/com/cbsa/migration/dto/ErrorResponseDto.java` | `java-migration/src/test/java/com/cbsa/migration/dto/ErrorResponseDtoTest.java` |

## Status Legend
- COMPLETE: Both Java implementation and tests exist
- IN PROGRESS: Java implemented, tests needed
- NOT STARTED: Not yet addressed

## Coverage Statistics
- **Total COBOL Programs**: 29 identified
- **Migrated Programs**: 2 (6.9%)
- **Test Coverage**: 4.8%

## Notes
1. Each COBOL program may map to multiple Java artifacts
2. Some COBOL sections may be consolidated into single Java methods
3. Cross-cutting concerns (error handling, date/time) extracted to utilities
4. Database operations separated into dedicated repository/DAO layers